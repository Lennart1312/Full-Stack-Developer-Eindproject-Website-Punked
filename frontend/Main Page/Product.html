<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Product Details | BandMerch</title>
    <link rel="stylesheet" href="Main%20Page%20Style.css" />
    <link rel="stylesheet" href="Product%20Style.css" />
    <link rel="stylesheet" href="Profile%20Style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600&display=swap" rel="stylesheet">
    <script defer src="product.js"></script>
</head>
<body>

<div class="page-wrapper flex-column">
    <main class="content">
<!-- Header -->
<header class="header">
    <div class="container header-inner">
        <!-- Logo -->
        <a href="Main%20Page%20Text.html" class="logo">
            <img src="../Assets/punked22.png" alt="BandMerch logo" class="logo-img">
        </a>

        <!-- Search bar -->
        <form class="search-bar" action="#" role="search">
            <input type="search" class="search-input" name="q" placeholder="Search band merch…" aria-label="Search">
        </form>

        <!-- Navigation -->
        <nav class="nav">
            <a href="Main%20Page%20Text.html">Home</a>
            <a href="Shop.html">Shop</a>
            <a href="Sell.html">Sell</a>
            <a href="#">Login</a>
            <a href="Sign%20Up.html">Signup</a>
        </nav>

        <!-- Shopping Cart Icon -->
        <div class="cart-icon-container">
            <img src="../Assets/Cart.png" alt="Cart" class="cart-icon" onclick="openCart()" />
            <span id="cart-count" class="cart-count">0</span>
        </div>

        <!-- Profile Icon and Dropdown -->
        <div class="profile-icon-container" id="profile-menu-container">
            <img src="../Assets/StandardIcon.png" alt="Profile" class="profile-icon" id="profile-icon">

            <!-- Dropdown -->
            <div class="profile-dropdown hidden" id="profile-dropdown">
                <div class="profile-dropdown-header">
                    <img src="../Assets/StandardIcon.png" class="dropdown-avatar" alt="Avatar" />
                    <div class="dropdown-username">@yourname</div>
                </div>
                <ul>
                    <li><a href="Account%20Settings.html">Account Settings</a></li>
                    <li><a href="Profile.html#history">Order History</a></li>
                    <li><a href="Profile.html#listings">My Listings</a></li>
                    <li><a href="Profile.html#favorites">Favorites</a></li>
                    <li><a href="Inbox.html">Inbox</a></li>
                </ul>
            </div>
        </div>

    </div>
</header>

<!-- Mini Cart Popup -->
        <div id="cart-popup" class="cart-popup hidden">
            <h3>Your Cart</h3>
            <ul id="cart-items-list"></ul>
            <p id="cart-total">Total: €0.00</p>
            <div class="cart-buttons">
                <button onclick="clearCart()">Clear Cart</button>
                <button onclick="saveCartBackup()">Save</button>
                <button onclick="loadSavedCart()">Load</button>
            </div>
        </div>

<!-- Cart JS -->
<script src="cart.js" defer></script>

<!-- Genre Navigation Bar -->
<nav class="genre-nav">
    <div class="container">
        <ul class="genre-list">
            <li class="genre-item">
                <a href="Shop.html?genre=rock">Rock</a>
                <div class="dropdown">
                    <ul>
                        <li><a href="Shop.html?genre=rock&category=tshirts">T-Shirts</a></li>
                        <li><a href="Shop.html?genre=rock&category=hoodies">Hoodies</a></li>
                        <li><a href="Shop.html?genre=rock&category=pants">Pants</a></li>
                        <li><a href="Shop.html?genre=rock&category=shoes">Shoes</a></li>
                        <li><a href="Shop.html?genre=rock&category=posters">Posters</a></li>
                        <li><a href="Shop.html?genre=rock&category=vinyl">Vinyl</a></li>
                        <li><a href="Shop.html?genre=rock&category=accessories">Accessories</a></li>
                        <li><a href="Shop.html?genre=rock&category=tour-specials">Tour Specials</a></li>
                        <li><a href="Shop.html?genre=rock&category=special-items">Special Items</a></li>
                    </ul>
                </div>
            </li>

            <li class="genre-item">
                <a href="Shop.html?genre=metal">Metal</a>
                <div class="dropdown">
                    <ul>
                        <li><a href="Shop.html?genre=metal&category=tshirts">T-Shirts</a></li>
                        <li><a href="Shop.html?genre=metal&category=hoodies">Hoodies</a></li>
                        <li><a href="Shop.html?genre=metal&category=pants">Pants</a></li>
                        <li><a href="Shop.html?genre=metal&category=shoes">Shoes</a></li>
                        <li><a href="Shop.html?genre=metal&category=posters">Posters</a></li>
                        <li><a href="Shop.html?genre=metal&category=vinyl">Vinyl</a></li>
                        <li><a href="Shop.html?genre=metal&category=accessories">Accessories</a></li>
                        <li><a href="Shop.html?genre=metal&category=tour-specials">Tour Specials</a></li>
                        <li><a href="Shop.html?genre=metal&category=special-items">Special Items</a></li>
                    </ul>
                </div>
            </li>

            <li class="genre-item">
                <a href="Shop.html?genre=punk">Punk</a>
                <div class="dropdown">
                    <ul>
                        <li><a href="Shop.html?genre=punk&category=tshirts">T-Shirts</a></li>
                        <li><a href="Shop.html?genre=punk&category=hoodies">Hoodies</a></li>
                        <li><a href="Shop.html?genre=punk&category=pants">Pants</a></li>
                        <li><a href="Shop.html?genre=punk&category=shoes">Shoes</a></li>
                        <li><a href="Shop.html?genre=punk&category=posters">Posters</a></li>
                        <li><a href="Shop.html?genre=punk&category=vinyl">Vinyl</a></li>
                        <li><a href="Shop.html?genre=punk&category=accessories">Accessories</a></li>
                        <li><a href="Shop.html?genre=punk&category=tour-specials">Tour Specials</a></li>
                        <li><a href="Shop.html?genre=punk&category=special-items">Special Items</a></li>
                    </ul>
                </div>
            </li>

            <li class="genre-item">
                <a href="Shop.html?genre=indie">Indie</a>
                <div class="dropdown">
                    <ul>
                        <li><a href="Shop.html?genre=indie&category=tshirts">T-Shirts</a></li>
                        <li><a href="Shop.html?genre=indie&category=hoodies">Hoodies</a></li>
                        <li><a href="Shop.html?genre=indie&category=pants">Pants</a></li>
                        <li><a href="Shop.html?genre=indie&category=shoes">Shoes</a></li>
                        <li><a href="Shop.html?genre=indie&category=posters">Posters</a></li>
                        <li><a href="Shop.html?genre=indie&category=vinyl">Vinyl</a></li>
                        <li><a href="Shop.html?genre=indie&category=accessories">Accessories</a></li>
                        <li><a href="Shop.html?genre=indie&category=tour-specials">Tour Specials</a></li>
                        <li><a href="Shop.html?genre=indie&category=special-items">Special Items</a></li>
                    </ul>
                </div>
            </li>

            <li class="genre-item">
                <a href="Shop.html?genre=hiphop">Hip-Hop</a>
                <div class="dropdown">
                    <ul>
                        <li><a href="Shop.html?genre=hiphop&category=tshirts">T-Shirts</a></li>
                        <li><a href="Shop.html?genre=hiphop&category=hoodies">Hoodies</a></li>
                        <li><a href="Shop.html?genre=hiphop&category=pants">Pants</a></li>
                        <li><a href="Shop.html?genre=hiphop&category=shoes">Shoes</a></li>
                        <li><a href="Shop.html?genre=hiphop&category=posters">Posters</a></li>
                        <li><a href="Shop.html?genre=hiphop&category=vinyl">Vinyl</a></li>
                        <li><a href="Shop.html?genre=hiphop&category=accessories">Accessories</a></li>
                        <li><a href="Shop.html?genre=hiphop&category=tour-specials">Tour Specials</a></li>
                        <li><a href="Shop.html?genre=hiphop&category=special-items">Special Items</a></li>
                    </ul>
                </div>
            </li>

            <li class="genre-item">
                <a href="Shop.html?genre=electronic">Electronic</a>
                <div class="dropdown">
                    <ul>
                        <li><a href="Shop.html?genre=electronic&category=tshirts">T-Shirts</a></li>
                        <li><a href="Shop.html?genre=electronic&category=hoodies">Hoodies</a></li>
                        <li><a href="Shop.html?genre=electronic&category=pants">Pants</a></li>
                        <li><a href="Shop.html?genre=electronic&category=shoes">Shoes</a></li>
                        <li><a href="Shop.html?genre=electronic&category=posters">Posters</a></li>
                        <li><a href="Shop.html?genre=electronic&category=vinyl">Vinyl</a></li>
                        <li><a href="Shop.html?genre=electronic&category=accessories">Accessories</a></li>
                        <li><a href="Shop.html?genre=electronic&category=tour-specials">Tour Specials</a></li>
                        <li><a href="Shop.html?genre=electronic&category=special-items">Special Items</a></li>
                    </ul>
                </div>
            </li>

            <li class="genre-item">
                <a href="Shop.html?genre=jazz">Jazz</a>
                <div class="dropdown">
                    <ul>
                        <li><a href="Shop.html?genre=jazz&category=tshirts">T-Shirts</a></li>
                        <li><a href="Shop.html?genre=jazz&category=hoodies">Hoodies</a></li>
                        <li><a href="Shop.html?genre=jazz&category=pants">Pants</a></li>
                        <li><a href="Shop.html?genre=jazz&category=shoes">Shoes</a></li>
                        <li><a href="Shop.html?genre=jazz&category=posters">Posters</a></li>
                        <li><a href="Shop.html?genre=jazz&category=vinyl">Vinyl</a></li>
                        <li><a href="Shop.html?genre=jazz&category=accessories">Accessories</a></li>
                        <li><a href="Shop.html?genre=jazz&category=tour-specials">Tour Specials</a></li>
                        <li><a href="Shop.html?genre=jazz&category=special-items">Special Items</a></li>
                    </ul>
                </div>
            </li>

            <li class="genre-item">
                <a href="Shop.html?genre=pop">Pop</a>
                <div class="dropdown">
                    <ul>
                        <li><a href="Shop.html?genre=pop&category=tshirts">T-Shirts</a></li>
                        <li><a href="Shop.html?genre=pop&category=hoodies">Hoodies</a></li>
                        <li><a href="Shop.html?genre=pop&category=pants">Pants</a></li>
                        <li><a href="Shop.html?genre=pop&category=shoes">Shoes</a></li>
                        <li><a href="Shop.html?genre=pop&category=posters">Posters</a></li>
                        <li><a href="Shop.html?genre=pop&category=vinyl">Vinyl</a></li>
                        <li><a href="Shop.html?genre=pop&category=accessories">Accessories</a></li>
                        <li><a href="Shop.html?genre=pop&category=tour-specials">Tour Specials</a></li>
                        <li><a href="Shop.html?genre=pop&category=special-items">Special Items</a></li>
                    </ul>
                </div>
            </li>
        </ul>
    </div>
</nav>


<main class="container product-layout">

    <!-- LEFT: Product Images -->
    <div class="product-images">
        <div class="thumbnail-column" id="thumbnail-list">
            <!-- thumbnails inserted via JS -->
        </div>
        <div class="main-image-wrapper">
            <img id="main-product-image" src="" alt="Product image" />
            <button id="prev-img" class="image-nav left">&#8249;</button>
            <button id="next-img" class="image-nav right">&#8250;</button>
        </div>
    </div>

    <!-- RIGHT: Product Info -->
    <div class="product-info">
        <h1 id="product-title">Band T-Shirt</h1>
        <p class="genre-tag" id="product-genre">Rock</p>
        <p class="price" id="product-price">€0.00</p>

        <!-- Purchase Type Label (added) -->
        <p id="purchase-type" class="purchase-type-label"></p>

        <ul class="product-meta">
            <li><strong>Seller:</strong> <span id="product-seller">Unknown</span></li>
            <li><strong>Size:</strong> <span id="product-size">M</span></li>
            <li><strong>Quality:</strong> <span id="product-quality">New</span></li>
            <li><strong>Category:</strong> <span id="product-category">N/A</span></li>
            <li><strong>Color:</strong> <span id="product-color">Black</span></li>
            <li><strong>Uploaded:</strong> <span id="product-uploaded">Just now</span></li>
        </ul>

        <p id="product-description" class="description">
            Description goes here. It’s an amazing tour shirt from [artist] with [design].
        </p>

        <div class="product-actions">
            <div class="product-actions">
                <button class="buy-button">Buy Now</button>
                <button class="alt-button make-offer-button">Make an Offer</button>
                <button class="alt-button outline message-seller-button">Message Seller</button>
            </div>
        </div>
    </div>
</main>

<!-- Other listings by same user -->
<section class="container other-products">
    <h3>More from this seller</h3>
    <div class="featured-grid" id="seller-other-items">
        <!-- Populate with JS -->
    </div>
</section>

</main>


<footer class="footer">
    <div class="container flex justify-between">
        <p>&copy; 2025 BandMerch. All rights reserved.</p>
        <div>
            <a href="PTC.html">Privacy</a>
            <a href="PTC.html">Terms</a>
            <a href="PTC.html">Contact</a>
        </div>
    </div>
</footer>
</div>

<script>
    // Tab switching functionality
    const tabs = document.querySelectorAll('.profile-tabs li');
    const sections = document.querySelectorAll('.tab-section');

    tabs.forEach(tab => {
        tab.addEventListener('click', () => {
            tabs.forEach(t => t.classList.remove('active'));
            sections.forEach(s => s.classList.remove('active'));

            tab.classList.add('active');
            document.getElementById(tab.dataset.tab).classList.add('active');
        });
    });
</script>


<script>
    document.addEventListener("DOMContentLoaded", () => {
        // Load avatar
        const savedAvatar = localStorage.getItem('userAvatar');
        if (savedAvatar) {
            document.querySelectorAll('.avatar, .dropdown-avatar, .profile-icon').forEach(el => {
                el.src = savedAvatar;
            });
        }

        // Load username
        const profileData = JSON.parse(localStorage.getItem('profileData')) || {};
        if (profileData.username) {
            document.querySelectorAll('.username, .dropdown-username').forEach(el => {
                el.textContent = '' + profileData.username;
            });
        }
    });
</script>

<script>
    document.addEventListener("DOMContentLoaded", () => {
        // Load avatar saved under 'profileImage'
        const savedAvatar = localStorage.getItem('profileImage');
        if (savedAvatar) {
            document.querySelectorAll('.avatar, .dropdown-avatar, .profile-icon').forEach(el => {
                el.src = savedAvatar;
            });
        }

        // Load username from profileData
        const profileData = JSON.parse(localStorage.getItem('profileData')) || {};
        if (profileData.username) {
            document.querySelectorAll('.username, .dropdown-username').forEach(el => {
                el.textContent = profileData.username;
            });
        }
    });
</script>
<script src="nosearch.js" defer></script>
<script src="search.js" defer></script>
<script src="genreredirect.js"></script>
<script src="profile-dropdown.js" defer></script>
<script src="signup-logic.js" defer></script>
<script src="login-state.js" defer></script>

</body>
</html>
